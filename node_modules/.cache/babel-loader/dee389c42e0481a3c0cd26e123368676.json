{"ast":null,"code":"var _jsxFileName = \"/Users/javier/Documents/BudgetApp/budgetapp/frontend/src/Components/Transaction.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { ListGroup, Pagination, Table } from \"react-bootstrap\";\nimport { compareAsc, format } from \"date-fns\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Transaction = _ref => {\n  _s();\n\n  let {\n    loadPagination\n  } = _ref;\n  let [transactions, setTransactions] = useState([]);\n  useEffect(() => {\n    getTransactions();\n  }, []);\n\n  let getTransactions = async () => {\n    let response = await fetch(\"/api/transactions/\");\n    let data = await response.json();\n    setTransactions(data[\"serializer\"]);\n    console.log(\"data\");\n    console.log(data);\n  };\n\n  const [listToDisplay, setListToDisplay] = useState(transactions.slice(0, 10));\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 10;\n  const pagesCount = Math.ceil(transactions.length / itemsPerPage);\n  {\n    /*for (let number = 1; number <= pagesCount; number++) {\n    item.push(\n      <Pagination.Item\n        onClick={() => onPageNumberClick(pageNumber)}\n        key={number}\n        active={number === active}\n      >\n        {number}\n      </Pagination.Item>\n    );\n    }*/\n  }\n\n  const changePage = number => {\n    if (currentPage === number) return;\n    setCurrentPage(number);\n    let index = number * 10;\n    setListToDisplay(transactions.slice(index - 10, index - 1));\n  };\n\n  {\n    /*const onPageNumberClick = (pageNumber) => {\n    changePage(pageNumber);\n    console.log(pageNumber);\n    };\n    const setLastPageAsCurrent = () => {\n    if (currentPage > pagesCount) {\n      setCurrentPage(pagesCount);\n    }\n    };*/\n  }\n\n  const onPreviousPageClick = () => {\n    if (currentPage - 1 > 0) {\n      changePage(currentPage - 1);\n    }\n  };\n\n  const onNextPageClick = () => {\n    if (currentPage + 1 <= pagesCount) {\n      changePage(currentPage + 1);\n    }\n  };\n\n  {\n    /*const pageNumbers = [...new Array(pagesCount)].map((_, index) => {\n    const pageNumber = index + 1;\n    const isPageNumberFirst = pageNumber === 1;\n    const isPageNumberLast = pageNumber === pagesCount;\n    const isCurrentPageWithinTwoPageNumbers =\n      Math.abs(pageNumber - currentPage) <= 2;\n     if (\n      isPageNumberFirst ||\n      isPageNumberLast ||\n      isCurrentPageWithinTwoPageNumbers\n    ) {\n      isPageNumberOutOfRange = false;\n      return (\n        <Pagination.Item\n          className=\"d-none\"\n          key={pageNumber}\n          onClick={() => onPageNumberClick(pageNumber)}\n          active={pageNumber === currentPage}\n        >\n          {pageNumber}\n        </Pagination.Item>\n      );\n    }\n     if (!isPageNumberOutOfRange) {\n      isPageNumberOutOfRange = true;\n      return <Pagination.Ellipsis key={pageNumber} className=\"muted\" />;\n    }\n     return null;\n    });*/\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"justify-content-center w-100\",\n    children: [/*#__PURE__*/_jsxDEV(Table, {\n      size: \"lg\",\n      responsive: true,\n      className: \"table-hover border-spacing-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        className: \"my-4\",\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"my-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"text_center\",\n            scope: \"col\",\n            children: \"Receiver\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Amount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: transactions.map((transac, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"my-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"col-md-4 text-capitalize\",\n            children: transac.receiver\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"col-md-3 text-capitalize\",\n            children: transac.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this), transac.transaction_way == \"O\" ? /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"col-md-2\",\n            children: [\"$\", transac.amount]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"col-md-2\",\n            children: [\"$\", transac.amount]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"col-md-4\",\n            children: transac.date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), loadPagination ? /*#__PURE__*/_jsxDEV(Pagination, {\n      children: [/*#__PURE__*/_jsxDEV(Pagination.Prev, {\n        onClick: onPreviousPageClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Pagination.Next, {\n        onClick: onNextPageClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex align-items-center mx-2\",\n        children: [currentPage, \"/\", pagesCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Transaction, \"4XPvP0lW35UhoK8q70nnsqWHFRY=\");\n\n_c = Transaction;\nexport default Transaction;\n\nvar _c;\n\n$RefreshReg$(_c, \"Transaction\");","map":{"version":3,"sources":["/Users/javier/Documents/BudgetApp/budgetapp/frontend/src/Components/Transaction.js"],"names":["React","useEffect","useState","Link","ListGroup","Pagination","Table","compareAsc","format","Transaction","loadPagination","transactions","setTransactions","getTransactions","response","fetch","data","json","console","log","listToDisplay","setListToDisplay","slice","currentPage","setCurrentPage","itemsPerPage","pagesCount","Math","ceil","length","changePage","number","index","onPreviousPageClick","onNextPageClick","map","transac","receiver","category","transaction_way","amount","date"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { ListGroup, Pagination, Table } from \"react-bootstrap\";\nimport { compareAsc, format } from \"date-fns\";\n\nconst Transaction = ({ loadPagination }) => {\n  let [transactions, setTransactions] = useState([]);\n\n  useEffect(() => {\n    getTransactions();\n  }, []);\n\n  let getTransactions = async () => {\n    let response = await fetch(\"/api/transactions/\");\n    let data = await response.json();\n    setTransactions(data[\"serializer\"]);\n    console.log(\"data\");\n    console.log(data);\n  };\n\n  const [listToDisplay, setListToDisplay] = useState(transactions.slice(0, 10));\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 10;\n  const pagesCount = Math.ceil(transactions.length / itemsPerPage);\n  {\n    /*for (let number = 1; number <= pagesCount; number++) {\n    item.push(\n      <Pagination.Item\n        onClick={() => onPageNumberClick(pageNumber)}\n        key={number}\n        active={number === active}\n      >\n        {number}\n      </Pagination.Item>\n    );\n  }*/\n  }\n  const changePage = (number) => {\n    if (currentPage === number) return;\n    setCurrentPage(number);\n    let index = number * 10;\n    setListToDisplay(transactions.slice(index - 10, index - 1));\n  };\n  {\n    /*const onPageNumberClick = (pageNumber) => {\n    changePage(pageNumber);\n    console.log(pageNumber);\n  };\n  const setLastPageAsCurrent = () => {\n    if (currentPage > pagesCount) {\n      setCurrentPage(pagesCount);\n    }\n  };*/\n  }\n\n  const onPreviousPageClick = () => {\n    if (currentPage - 1 > 0) {\n      changePage(currentPage - 1);\n    }\n  };\n\n  const onNextPageClick = () => {\n    if (currentPage + 1 <= pagesCount) {\n      changePage(currentPage + 1);\n    }\n  };\n\n  {\n    /*const pageNumbers = [...new Array(pagesCount)].map((_, index) => {\n    const pageNumber = index + 1;\n    const isPageNumberFirst = pageNumber === 1;\n    const isPageNumberLast = pageNumber === pagesCount;\n    const isCurrentPageWithinTwoPageNumbers =\n      Math.abs(pageNumber - currentPage) <= 2;\n\n    if (\n      isPageNumberFirst ||\n      isPageNumberLast ||\n      isCurrentPageWithinTwoPageNumbers\n    ) {\n      isPageNumberOutOfRange = false;\n      return (\n        <Pagination.Item\n          className=\"d-none\"\n          key={pageNumber}\n          onClick={() => onPageNumberClick(pageNumber)}\n          active={pageNumber === currentPage}\n        >\n          {pageNumber}\n        </Pagination.Item>\n      );\n    }\n\n    if (!isPageNumberOutOfRange) {\n      isPageNumberOutOfRange = true;\n      return <Pagination.Ellipsis key={pageNumber} className=\"muted\" />;\n    }\n\n    return null;\n  });*/\n  }\n\n  return (\n    <div className=\"justify-content-center w-100\">\n      {/* <ListGroup defaultActiveKey=\"#link1\">\n        <ListGroup.Item\n          className=\"my-2 border-top-0 border-end-0 border-start-0\"\n          variant=\"light\"\n        >\n          <div className=\"d-flex justify-content-between flex-row\">\n            <div>Starbucks</div>\n            <div>Food</div>\n            <div>10/04/2022</div>\n            <div>$12.99</div>\n          </div>\n        </ListGroup.Item>\n        <ListGroup.Item\n          className=\"my-2 border-top-0 border-end-0 border-start-0\"\n          variant=\"light\"\n        >\n          <div className=\"d-flex justify-content-between flex-row\">\n            <div>Universidad</div>\n            <div>Studies</div>\n            <div>01/04/2022</div>\n            <div>$350.00</div>\n          </div>\n        </ListGroup.Item>\n        <ListGroup.Item\n          className=\"my-2 border-top-0 border-end-0 border-start-0\"\n          variant=\"light\"\n        >\n          <div className=\"d-flex justify-content-between flex-row\">\n            <div>Gama</div>\n            <div>Food</div>\n            <div>29/03/2022</div>\n            <div>$0.90</div>\n          </div>\n        </ListGroup.Item>\n      </ListGroup>*/}\n\n      <Table size=\"lg\" responsive className=\"table-hover border-spacing-4\">\n        <thead className=\"my-4\">\n          <tr className=\"my-4\">\n            <th className=\"text_center\" scope=\"col\">\n              Receiver\n            </th>\n            <th scope=\"col\">Category</th>\n            <th scope=\"col\">Amount</th>\n            <th scope=\"col\">Date</th>\n          </tr>\n        </thead>\n        <tbody>\n          {transactions.map((transac, index) => (\n            <tr key={index} className=\"my-4\">\n              <td className=\"col-md-4 text-capitalize\">{transac.receiver}</td>\n              <td className=\"col-md-3 text-capitalize\">{transac.category}</td>\n              {transac.transaction_way == \"O\" ? (\n                <td className=\"col-md-2\">${transac.amount}</td>\n              ) : (\n                <td className=\"col-md-2\">${transac.amount}</td>\n              )}\n              <td className=\"col-md-4\">{transac.date}</td>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n      {loadPagination ? (\n        <Pagination>\n          <Pagination.Prev onClick={onPreviousPageClick} />\n          <Pagination.Next onClick={onNextPageClick} />\n          <div className=\"d-flex align-items-center mx-2\">\n            {currentPage}/{pagesCount}\n          </div>\n        </Pagination>\n      ) : (\n        <div></div>\n      )}\n    </div>\n  );\n};\n\nexport default Transaction;\n"]},"metadata":{},"sourceType":"module"}