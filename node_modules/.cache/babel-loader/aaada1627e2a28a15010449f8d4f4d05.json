{"ast":null,"code":"var _jsxFileName = \"/Users/javier/Documents/BudgetApp/budgetapp/frontend/src/Components/Cards/MoneyCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useContext } from \"react\";\nimport { Card, ProgressBar } from \"react-bootstrap\";\nimport AuthContext from \"../../Context/AuthContext\";\nimport AddTransacGoal from \"../Forms/AddTransacGoal\";\nimport AddEditGoalModal from \"../Modals/AddEditGoalModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MoneyCard = _ref => {\n  _s();\n\n  let {\n    amount,\n    title,\n    saved,\n    id\n  } = _ref;\n  const completed = saved * 100 / amount;\n  let {\n    authTokens,\n    logoutUser\n  } = useContext(AuthContext);\n\n  let deleteGoal = async () => {\n    let response = await fetch(`/api/goals/${id}/delete/`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + String(authTokens.access)\n      }\n    });\n    let data = await response.json();\n\n    if (response.status === 200) {\n      //history(\"/\");\n      await createTransactionForGoal();\n    } else if (response.statusText === \"Unauthorized\") {\n      logoutUser();\n    }\n\n    window.location.reload();\n  };\n\n  let editGoal = async () => {\n    console.log(\"hola\");\n    return /*#__PURE__*/_jsxDEV(AddTransacGoal, {\n      goal: false,\n      edit: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 12\n    }, this);\n    window.location.reload();\n  };\n\n  const createTransactionForGoal = async () => {\n    let newDate = new Date();\n    const offset = newDate.getTimezoneOffset();\n    let date = new Date(newDate.getTime() - offset * 120 * 1000);\n    date = date.toISOString().split(\"T\")[0];\n    let response = await fetch(\"/api/transactions/create/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + String(authTokens.access)\n      },\n      body: JSON.stringify({\n        amount: saved,\n        category: \"goal\",\n        receiver: title,\n        transaction_way: \"I\",\n        date: date\n      })\n    });\n    let data = await response.json();\n\n    if (response.status === 200) {//history(\"/\");\n      //For now i use this because of time but its not a good solution to\n      //update the react view when create new object\n    } else if (response.statusText === \"Unauthorized\") {\n      logoutUser();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"rounded-5 my-2\",\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        className: \"mx-1\",\n        children: saved ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-100 mx-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex mb-2 w-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-10 col-sm-10 col-lg-10\",\n              children: /*#__PURE__*/_jsxDEV(Card.Title, {\n                className: \"text-capitalize\",\n                children: title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-2 col-sm-2 col-lg-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"px-0 col-md-6 col-sm-6 col-lg-6 d-flex justify-content-center mx-0 mb-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    style: {\n                      cursor: \"pointer\"\n                    },\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    width: \"16\",\n                    height: \"16\",\n                    fill: \"currentColor\",\n                    className: \"bi bi-trash2 mr-2 my-2\",\n                    onClick: () => deleteGoal(),\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M14 3a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2zM3.215 4.207l1.493 8.957a1 1 0 0 0 .986.836h4.612a1 1 0 0 0 .986-.836l1.493-8.957C11.69 4.689 9.954 5 8 5c-1.954 0-3.69-.311-4.785-.793z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 86,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6 col-sm-6 col-lg-6 \",\n                  children: /*#__PURE__*/_jsxDEV(AddEditGoalModal, {\n                    id: id,\n                    title: title,\n                    amount: amount,\n                    saved: saved\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-success\",\n                children: [\"$\", saved]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\" / $ \", amount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n              variant: \"success\",\n              now: completed\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Card.Text, {\n            className: \"text-capitalize\",\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: amount > 0 ? /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"$\", amount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-danger\",\n              children: [\"$\", amount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MoneyCard, \"9b9iikmWR7B5P+BF1xYwrP9MwW0=\");\n\n_c = MoneyCard;\nexport default MoneyCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"MoneyCard\");","map":{"version":3,"sources":["/Users/javier/Documents/BudgetApp/budgetapp/frontend/src/Components/Cards/MoneyCard.js"],"names":["React","useEffect","useContext","Card","ProgressBar","AuthContext","AddTransacGoal","AddEditGoalModal","MoneyCard","amount","title","saved","id","completed","authTokens","logoutUser","deleteGoal","response","fetch","method","headers","Authorization","String","access","data","json","status","createTransactionForGoal","statusText","window","location","reload","editGoal","console","log","newDate","Date","offset","getTimezoneOffset","date","getTime","toISOString","split","body","JSON","stringify","category","receiver","transaction_way","cursor"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext } from \"react\";\nimport { Card, ProgressBar } from \"react-bootstrap\";\nimport AuthContext from \"../../Context/AuthContext\";\nimport AddTransacGoal from \"../Forms/AddTransacGoal\";\nimport AddEditGoalModal from \"../Modals/AddEditGoalModal\";\n\nconst MoneyCard = ({ amount, title, saved, id }) => {\n  const completed = (saved * 100) / amount;\n  let { authTokens, logoutUser } = useContext(AuthContext);\n\n  let deleteGoal = async () => {\n    let response = await fetch(`/api/goals/${id}/delete/`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + String(authTokens.access),\n      },\n    });\n    let data = await response.json();\n    if (response.status === 200) {\n      //history(\"/\");\n      await createTransactionForGoal();\n    } else if (response.statusText === \"Unauthorized\") {\n      logoutUser();\n    }\n    window.location.reload();\n  };\n\n  let editGoal = async () => {\n    console.log(\"hola\");\n    return <AddTransacGoal goal={false} edit={true} />;\n    window.location.reload();\n  };\n\n  const createTransactionForGoal = async () => {\n    let newDate = new Date();\n    const offset = newDate.getTimezoneOffset();\n    let date = new Date(newDate.getTime() - offset * 120 * 1000);\n    date = date.toISOString().split(\"T\")[0];\n    let response = await fetch(\"/api/transactions/create/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + String(authTokens.access),\n      },\n      body: JSON.stringify({\n        amount: saved,\n        category: \"goal\",\n        receiver: title,\n        transaction_way: \"I\",\n        date: date,\n      }),\n    });\n    let data = await response.json();\n    if (response.status === 200) {\n      //history(\"/\");\n      //For now i use this because of time but its not a good solution to\n      //update the react view when create new object\n    } else if (response.statusText === \"Unauthorized\") {\n      logoutUser();\n    }\n  };\n\n  return (\n    <div>\n      <Card className=\"rounded-5 my-2\">\n        <Card.Body className=\"mx-1\">\n          {saved ? (\n            <div className=\"w-100 mx-0\">\n              <div className=\"d-flex mb-2 w-100\">\n                <div className=\"col-md-10 col-sm-10 col-lg-10\">\n                  <Card.Title className=\"text-capitalize\">{title}</Card.Title>\n                </div>\n                <div className=\"col-md-2 col-sm-2 col-lg-2\">\n                  <div className=\"row\">\n                    <div className=\"px-0 col-md-6 col-sm-6 col-lg-6 d-flex justify-content-center mx-0 mb-2\">\n                      <svg\n                        style={{ cursor: \"pointer\" }}\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"16\"\n                        height=\"16\"\n                        fill=\"currentColor\"\n                        className=\"bi bi-trash2 mr-2 my-2\"\n                        onClick={() => deleteGoal()}\n                      >\n                        <path d=\"M14 3a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2zM3.215 4.207l1.493 8.957a1 1 0 0 0 .986.836h4.612a1 1 0 0 0 .986-.836l1.493-8.957C11.69 4.689 9.954 5 8 5c-1.954 0-3.69-.311-4.785-.793z\" />\n                      </svg>\n                    </div>\n                    <div className=\"col-md-6 col-sm-6 col-lg-6 \">\n                      <AddEditGoalModal\n                        id={id}\n                        title={title}\n                        amount={amount}\n                        saved={saved}\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div>\n                <h4>\n                  <span className=\"text-success\">${saved}</span>\n                  <span> / $ {amount}</span>\n                </h4>\n                <ProgressBar variant=\"success\" now={completed} />\n              </div>\n            </div>\n          ) : (\n            <div>\n              <Card.Text className=\"text-capitalize\">{title}</Card.Text>\n              <div>\n                {amount > 0 ? (\n                  <h4>${amount}</h4>\n                ) : (\n                  <h4 className=\"text-danger\">${amount}</h4>\n                )}\n              </div>\n            </div>\n          )}\n        </Card.Body>\n      </Card>\n    </div>\n  );\n};\n\nexport default MoneyCard;\n"]},"metadata":{},"sourceType":"module"}