{"ast":null,"code":"var _jsxFileName = \"/Users/javier/Documents/BudgetFrontend/frontend/src/Components/Cards/MoneyCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from \"react\";\nimport { Card, ProgressBar } from \"react-bootstrap\";\nimport AuthContext from \"../../Context/AuthContext\"; //import AddTransacGoal from \"../Forms/AddTransacGoal\";\n\nimport AddEditGoalModal from \"../Modals/AddEditGoalModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MoneyCard = _ref => {\n  _s();\n\n  let {\n    amount,\n    title,\n    saved,\n    id,\n    red\n  } = _ref;\n  const completed = saved * 100 / amount;\n  let {\n    authTokens,\n    logoutUser\n  } = useContext(AuthContext);\n\n  let deleteGoal = async () => {\n    let response = await fetch(`http://127.0.0.1:8000/goals/${id}/delete/`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + String(authTokens.access)\n      }\n    });\n\n    if (response.status === 200) {\n      //history(\"/\");\n      await createTransactionForGoal();\n    } else if (response.statusText === \"Unauthorized\") {\n      logoutUser();\n    }\n\n    window.location.reload();\n  };\n\n  const createTransactionForGoal = async () => {\n    let newDate = new Date();\n    const offset = newDate.getTimezoneOffset();\n    let date = new Date(newDate.getTime() - offset * 120 * 1000);\n    date = date.toISOString().split(\"T\")[0];\n    let response = await fetch(\"http://127.0.0.1:8000/transactions/create/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + String(authTokens.access)\n      },\n      body: JSON.stringify({\n        amount: saved,\n        category: \"goal\",\n        receiver: title,\n        transaction_way: \"I\",\n        date: date\n      })\n    });\n\n    if (response.status === 200) {//history(\"/\");\n      //For now i use this because of time but its not a good solution to\n      //update the react view when create new object\n    } else if (response.statusText === \"Unauthorized\") {\n      logoutUser();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"rounded-5 my-2\",\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        className: \"mx-1\",\n        children: saved ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-100 mx-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex mb-2 w-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-10 col-sm-10 col-lg-10 col-10\",\n              children: /*#__PURE__*/_jsxDEV(Card.Title, {\n                className: \"text-capitalize\",\n                children: title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-2 col-sm-2 col-lg-2 col-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"px-0 col-md-6 col-sm-6 col-lg-6 col-6 d-flex justify-content-center mx-0 mb-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    style: {\n                      cursor: \"pointer\"\n                    },\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    width: \"16\",\n                    height: \"16\",\n                    fill: \"currentColor\",\n                    className: \"bi bi-trash2 mr-2 my-0\",\n                    onClick: () => deleteGoal(),\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M14 3a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2zM3.215 4.207l1.493 8.957a1 1 0 0 0 .986.836h4.612a1 1 0 0 0 .986-.836l1.493-8.957C11.69 4.689 9.954 5 8 5c-1.954 0-3.69-.311-4.785-.793z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 78,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 69,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"px-0 col-md-6 col-sm-6 col-lg-6 col-6 d-flex justify-content-center mx-0 mb-2\",\n                  children: /*#__PURE__*/_jsxDEV(AddEditGoalModal, {\n                    id: id,\n                    title: title,\n                    amount: amount,\n                    saved: saved\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-success\",\n                children: [\"$\", saved]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\" / $ \", amount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n              variant: \"success\",\n              now: completed\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Card.Text, {\n            className: \"text-capitalize\",\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: red ? /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"$\", amount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-danger\",\n              children: [\"$\", amount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MoneyCard, \"9b9iikmWR7B5P+BF1xYwrP9MwW0=\");\n\n_c = MoneyCard;\nexport default MoneyCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"MoneyCard\");","map":{"version":3,"sources":["/Users/javier/Documents/BudgetFrontend/frontend/src/Components/Cards/MoneyCard.js"],"names":["React","useContext","Card","ProgressBar","AuthContext","AddEditGoalModal","MoneyCard","amount","title","saved","id","red","completed","authTokens","logoutUser","deleteGoal","response","fetch","method","headers","Authorization","String","access","status","createTransactionForGoal","statusText","window","location","reload","newDate","Date","offset","getTimezoneOffset","date","getTime","toISOString","split","body","JSON","stringify","category","receiver","transaction_way","cursor"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport { Card, ProgressBar } from \"react-bootstrap\";\nimport AuthContext from \"../../Context/AuthContext\";\n//import AddTransacGoal from \"../Forms/AddTransacGoal\";\nimport AddEditGoalModal from \"../Modals/AddEditGoalModal\";\n\nconst MoneyCard = ({ amount, title, saved, id, red }) => {\n  const completed = (saved * 100) / amount;\n  let { authTokens, logoutUser } = useContext(AuthContext);\n\n  let deleteGoal = async () => {\n    let response = await fetch(`http://127.0.0.1:8000/goals/${id}/delete/`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + String(authTokens.access),\n      },\n    });\n    if (response.status === 200) {\n      //history(\"/\");\n      await createTransactionForGoal();\n    } else if (response.statusText === \"Unauthorized\") {\n      logoutUser();\n    }\n    window.location.reload();\n  };\n\n  const createTransactionForGoal = async () => {\n    let newDate = new Date();\n    const offset = newDate.getTimezoneOffset();\n    let date = new Date(newDate.getTime() - offset * 120 * 1000);\n    date = date.toISOString().split(\"T\")[0];\n    let response = await fetch(\"http://127.0.0.1:8000/transactions/create/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + String(authTokens.access),\n      },\n      body: JSON.stringify({\n        amount: saved,\n        category: \"goal\",\n        receiver: title,\n        transaction_way: \"I\",\n        date: date,\n      }),\n    });\n    if (response.status === 200) {\n      //history(\"/\");\n      //For now i use this because of time but its not a good solution to\n      //update the react view when create new object\n    } else if (response.statusText === \"Unauthorized\") {\n      logoutUser();\n    }\n  };\n\n  return (\n    <div>\n      <Card className=\"rounded-5 my-2\">\n        <Card.Body className=\"mx-1\">\n          {saved ? (\n            <div className=\"w-100 mx-0\">\n              <div className=\"d-flex mb-2 w-100\">\n                <div className=\"col-md-10 col-sm-10 col-lg-10 col-10\">\n                  <Card.Title className=\"text-capitalize\">{title}</Card.Title>\n                </div>\n                <div className=\"col-md-2 col-sm-2 col-lg-2 col-2\">\n                  <div className=\"row\">\n                    <div className=\"px-0 col-md-6 col-sm-6 col-lg-6 col-6 d-flex justify-content-center mx-0 mb-2\">\n                      <svg\n                        style={{ cursor: \"pointer\" }}\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"16\"\n                        height=\"16\"\n                        fill=\"currentColor\"\n                        className=\"bi bi-trash2 mr-2 my-0\"\n                        onClick={() => deleteGoal()}\n                      >\n                        <path d=\"M14 3a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2zM3.215 4.207l1.493 8.957a1 1 0 0 0 .986.836h4.612a1 1 0 0 0 .986-.836l1.493-8.957C11.69 4.689 9.954 5 8 5c-1.954 0-3.69-.311-4.785-.793z\" />\n                      </svg>\n                    </div>\n                    <div className=\"px-0 col-md-6 col-sm-6 col-lg-6 col-6 d-flex justify-content-center mx-0 mb-2\">\n                      <AddEditGoalModal\n                        id={id}\n                        title={title}\n                        amount={amount}\n                        saved={saved}\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div>\n                <h4>\n                  <span className=\"text-success\">${saved}</span>\n                  <span> / $ {amount}</span>\n                </h4>\n                <ProgressBar variant=\"success\" now={completed} />\n              </div>\n            </div>\n          ) : (\n            <div>\n              <Card.Text className=\"text-capitalize\">{title}</Card.Text>\n              <div>\n                {red ? (\n                  <h4>${amount}</h4>\n                ) : (\n                  <h4 className=\"text-danger\">${amount}</h4>\n                )}\n              </div>\n            </div>\n          )}\n        </Card.Body>\n      </Card>\n    </div>\n  );\n};\n\nexport default MoneyCard;\n"]},"metadata":{},"sourceType":"module"}