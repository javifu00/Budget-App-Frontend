{"ast":null,"code":"var _jsxFileName = \"/Users/javier/Documents/BudgetApp/budgetapp/frontend/src/Components/Cards/MoneyCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useContext } from \"react\";\nimport { Card, ProgressBar } from \"react-bootstrap\";\nimport AuthContext from \"../../Context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MoneyCard = _ref => {\n  _s();\n\n  let {\n    amount,\n    title,\n    saved,\n    id\n  } = _ref;\n  const completed = saved * 100 / amount;\n  let {\n    authTokens,\n    logoutUser\n  } = useContext(AuthContext);\n\n  let deleteGoals = async () => {\n    let response = await fetch(`/api/goals/${id}/delete/`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + String(authTokens.access)\n      }\n    });\n    let data = await response.json();\n\n    if (response.status === 200) {\n      //history(\"/\");\n      await createTransactionForGoal();\n    } else if (response.statusText === \"Unauthorized\") {\n      logoutUser();\n    }\n\n    window.location.reload();\n  };\n\n  const createTransactionForGoal = async () => {\n    let newDate = new Date();\n    const offset = newDate.getTimezoneOffset();\n    let date = new Date(newDate.getTime() - offset * 120 * 1000);\n    date = date.toISOString().split(\"T\")[0];\n    let response = await fetch(\"/api/transactions/create/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + String(authTokens.access)\n      },\n      body: JSON.stringify({\n        amount: saved,\n        category: \"goal\",\n        receiver: title,\n        transaction_way: \"I\",\n        date: date\n      })\n    });\n    let data = await response.json();\n\n    if (response.status === 200) {//history(\"/\");\n      //For now i use this because of time but its not a good solution to\n      //update the react view when create new object\n    } else if (response.statusText === \"Unauthorized\") {\n      logoutUser();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"rounded-5 my-2\",\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        className: \"mx-2 bg-red\",\n        children: saved ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-11 col-sm-11 col-ld-11\",\n              children: /*#__PURE__*/_jsxDEV(Card.Title, {\n                className: \"text-capitalize\",\n                children: title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-11 col-sm-11 col-ld-11\",\n              onClick: () => deleteGoals(),\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                width: \"16\",\n                height: \"16\",\n                fill: \"currentColor\",\n                className: \"bi bi-trash2 mr-2\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M14 3a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2zM3.215 4.207l1.493 8.957a1 1 0 0 0 .986.836h4.612a1 1 0 0 0 .986-.836l1.493-8.957C11.69 4.689 9.954 5 8 5c-1.954 0-3.69-.311-4.785-.793z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                width: \"16\",\n                height: \"16\",\n                fill: \"currentColor\",\n                className: \"bi bi-pencil ml-2\",\n                viewBox: \"0 0 16 16\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-success\",\n                children: [\"$\", saved]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\" / $ \", amount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n              variant: \"success\",\n              now: completed\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Card.Text, {\n            className: \"text-capitalize\",\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: amount > 0 ? /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"$\", amount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-danger\",\n              children: [\"$\", amount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MoneyCard, \"9b9iikmWR7B5P+BF1xYwrP9MwW0=\");\n\n_c = MoneyCard;\nexport default MoneyCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"MoneyCard\");","map":{"version":3,"sources":["/Users/javier/Documents/BudgetApp/budgetapp/frontend/src/Components/Cards/MoneyCard.js"],"names":["React","useEffect","useContext","Card","ProgressBar","AuthContext","MoneyCard","amount","title","saved","id","completed","authTokens","logoutUser","deleteGoals","response","fetch","method","headers","Authorization","String","access","data","json","status","createTransactionForGoal","statusText","window","location","reload","newDate","Date","offset","getTimezoneOffset","date","getTime","toISOString","split","body","JSON","stringify","category","receiver","transaction_way"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext } from \"react\";\nimport { Card, ProgressBar } from \"react-bootstrap\";\nimport AuthContext from \"../../Context/AuthContext\";\n\nconst MoneyCard = ({ amount, title, saved, id }) => {\n  const completed = (saved * 100) / amount;\n  let { authTokens, logoutUser } = useContext(AuthContext);\n\n  let deleteGoals = async () => {\n    let response = await fetch(`/api/goals/${id}/delete/`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + String(authTokens.access),\n      },\n    });\n    let data = await response.json();\n    if (response.status === 200) {\n      //history(\"/\");\n      await createTransactionForGoal();\n    } else if (response.statusText === \"Unauthorized\") {\n      logoutUser();\n    }\n    window.location.reload();\n  };\n\n  const createTransactionForGoal = async () => {\n    let newDate = new Date();\n    const offset = newDate.getTimezoneOffset();\n    let date = new Date(newDate.getTime() - offset * 120 * 1000);\n    date = date.toISOString().split(\"T\")[0];\n    let response = await fetch(\"/api/transactions/create/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + String(authTokens.access),\n      },\n      body: JSON.stringify({\n        amount: saved,\n        category: \"goal\",\n        receiver: title,\n        transaction_way: \"I\",\n        date: date,\n      }),\n    });\n    let data = await response.json();\n    if (response.status === 200) {\n      //history(\"/\");\n      //For now i use this because of time but its not a good solution to\n      //update the react view when create new object\n    } else if (response.statusText === \"Unauthorized\") {\n      logoutUser();\n    }\n  };\n\n  return (\n    <div>\n      <Card className=\"rounded-5 my-2\">\n        <Card.Body className=\"mx-2 bg-red\">\n          {saved ? (\n            <div className=\"\">\n              <div className=\"d-flex mb-2\">\n                <div className=\"col-md-11 col-sm-11 col-ld-11\">\n                  <Card.Title className=\"text-capitalize\">{title}</Card.Title>\n                </div>\n                <div\n                  className=\"col-md-11 col-sm-11 col-ld-11\"\n                  onClick={() => deleteGoals()}\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"16\"\n                    height=\"16\"\n                    fill=\"currentColor\"\n                    className=\"bi bi-trash2 mr-2\"\n                  >\n                    <path d=\"M14 3a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2zM3.215 4.207l1.493 8.957a1 1 0 0 0 .986.836h4.612a1 1 0 0 0 .986-.836l1.493-8.957C11.69 4.689 9.954 5 8 5c-1.954 0-3.69-.311-4.785-.793z\" />\n                  </svg>\n                  <div></div>\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"16\"\n                    height=\"16\"\n                    fill=\"currentColor\"\n                    className=\"bi bi-pencil ml-2\"\n                    viewBox=\"0 0 16 16\"\n                  >\n                    <path d=\"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z\" />\n                  </svg>\n                </div>\n              </div>\n              <div>\n                <h4>\n                  <span className=\"text-success\">${saved}</span>\n                  <span> / $ {amount}</span>\n                </h4>\n                <ProgressBar variant=\"success\" now={completed} />\n              </div>\n            </div>\n          ) : (\n            <div>\n              <Card.Text className=\"text-capitalize\">{title}</Card.Text>\n              <div>\n                {amount > 0 ? (\n                  <h4>${amount}</h4>\n                ) : (\n                  <h4 className=\"text-danger\">${amount}</h4>\n                )}\n              </div>\n            </div>\n          )}\n        </Card.Body>\n      </Card>\n    </div>\n  );\n};\n\nexport default MoneyCard;\n"]},"metadata":{},"sourceType":"module"}