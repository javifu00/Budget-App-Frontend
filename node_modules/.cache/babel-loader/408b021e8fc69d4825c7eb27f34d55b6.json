{"ast":null,"code":"import _objectSpread from\"/Users/javier/Documents/BudgetApp/budgetapp/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/javier/Documents/BudgetApp/budgetapp/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/javier/Documents/BudgetApp/budgetapp/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/javier/Documents/BudgetApp/budgetapp/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState,useContext}from\"react\";import{Bar,Line,Chart,Doughnut}from\"react-chartjs-2\";import{Chart as ChartJS}from\"chart.js/auto\";import Transaction from\"../Components/Transaction\";import{Card,Button,Tooltip,OverlayTrigger}from\"react-bootstrap\";import MoneyCard from\"../Components/Cards/MoneyCard\";import DoughnutCard from\"../Components/Cards/DoughnutCard\";import BarCard from\"../Components/Cards/BarCard\";import Goals from\"../Components/Goals\";import AddTransactionButton from\"../Components/AddTransactionButton\";import AuthContext from\"../Context/AuthContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var state={labels:[\"January\",\"February\",\"March\",\"April\",\"May\"],datasets:[{label:\"Rainfall\",backgroundColor:\"rgba(75,192,192,1)\",borderColor:\"rgba(0,0,0,1)\",borderWidth:2,data:[65,59,80,81,56]}]};var doughnutData={labels:[\"Red\",\"Blue\",\"Yellow\"],datasets:[{label:\"My First Dataset\",data:[300,50,100],backgroundColor:[\"rgb(255, 99, 132)\",\"rgb(54, 162, 235)\",\"rgb(255, 205, 86)\"],hoverOffset:4}]};var Home=function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),transactions=_useState2[0],setTransactions=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),balance=_useState4[0],setBalance=_useState4[1];var _useContext=useContext(AuthContext),authTokens=_useContext.authTokens,logoutUser=_useContext.logoutUser;useEffect(function(){getTransactions();},[]);var getTransactions=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"api/transactions/\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+String(authTokens.access)}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;if(response.status===200){setTransactions(data);}else if(response.statusText===\"Unauthorized\"){logoutUser();}case 7:case\"end\":return _context.stop();}}},_callee);}));return function getTransactions(){return _ref.apply(this,arguments);};}();var financialData=[{spend:245.0,date:\"01-01-2022\"},{spend:821.0,date:\"03-01-2022\"},{spend:447.0,date:\"04-01-2022\"}];var renderTooltip=function renderTooltip(props){return/*#__PURE__*/_jsx(Tooltip,_objectSpread(_objectSpread({id:\"button-tooltip\"},props),{},{children:\"Add Transaction\"}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center my-5\",children:[/*#__PURE__*/_jsx(AddTransactionButton,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row px-0\",style:{width:\"95%\",backgroundColor:\"\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-0 row col-lg-9 col-md-12 col-sm-12\",style:{backgroundColor:\"\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"\",style:{backgroundColor:\"\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"\",style:{backgroundColor:\"\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3 col-md-6 col-sm-6\",children:/*#__PURE__*/_jsx(MoneyCard,{amount:transactions[\"balance\"],title:\"Balance\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3 col-md-6 col-sm-6\",children:/*#__PURE__*/_jsx(MoneyCard,{amount:transactions[\"income\"],title:\"Income\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3 col-md-6 col-sm-6\",children:/*#__PURE__*/_jsx(MoneyCard,{amount:\"40.00\",title:\"Savings\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3 col-md-6 col-sm-6\",children:/*#__PURE__*/_jsx(MoneyCard,{amount:transactions[\"expenses\"],title:\"Expenses\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"my-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-top justify-content-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 col-md-6 col-sm-11 my-2\",children:/*#__PURE__*/_jsx(BarCard,{title:\"Activity\",data:state,explanation:\"Expenses group by category\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 col-md-6 col-sm-11 my-2\",children:/*#__PURE__*/_jsx(DoughnutCard,{title:\"Expenses\",data:doughnutData,explanation:\"Expenses group by category\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"my-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-top justify-content-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3 col-md-10 col-sm-11\",style:{backgroundColor:\"\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"py-0 col-lg-12 col-md-12 col-sm-12\",children:/*#__PURE__*/_jsx(MoneyCard,{amount:\"90.00\",title:\"Expenses\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-9 col-md-10 col-sm-11\",style:{backgroundColor:\"\"},children:/*#__PURE__*/_jsx(Card,{className:\"mb-5 w-100 d-flex\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-5 mb-3 mx-3 justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-column\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pb-2 h4 text-right\",children:\"Recent Transactions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100\",style:{},children:/*#__PURE__*/_jsx(Transaction,{loadPagination:false})})})]})})})})]})})]})}),/*#__PURE__*/_jsx(Goals,{})]})]});};export default Home;","map":{"version":3,"sources":["/Users/javier/Documents/BudgetApp/budgetapp/frontend/src/Pages/Home.js"],"names":["React","useEffect","useState","useContext","Bar","Line","Chart","Doughnut","ChartJS","Transaction","Card","Button","Tooltip","OverlayTrigger","MoneyCard","DoughnutCard","BarCard","Goals","AddTransactionButton","AuthContext","state","labels","datasets","label","backgroundColor","borderColor","borderWidth","data","doughnutData","hoverOffset","Home","transactions","setTransactions","balance","setBalance","authTokens","logoutUser","getTransactions","fetch","method","headers","Authorization","String","access","response","json","status","statusText","financialData","spend","date","renderTooltip","props","width"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport { Bar, Line, Chart, Doughnut } from \"react-chartjs-2\";\nimport { Chart as ChartJS } from \"chart.js/auto\";\nimport Transaction from \"../Components/Transaction\";\nimport { Card, Button, Tooltip, OverlayTrigger } from \"react-bootstrap\";\nimport MoneyCard from \"../Components/Cards/MoneyCard\";\nimport DoughnutCard from \"../Components/Cards/DoughnutCard\";\nimport BarCard from \"../Components/Cards/BarCard\";\nimport Goals from \"../Components/Goals\";\nimport AddTransactionButton from \"../Components/AddTransactionButton\";\nimport AuthContext from \"../Context/AuthContext\";\n\nconst state = {\n  labels: [\"January\", \"February\", \"March\", \"April\", \"May\"],\n  datasets: [\n    {\n      label: \"Rainfall\",\n      backgroundColor: \"rgba(75,192,192,1)\",\n      borderColor: \"rgba(0,0,0,1)\",\n      borderWidth: 2,\n      data: [65, 59, 80, 81, 56],\n    },\n  ],\n};\n\nconst doughnutData = {\n  labels: [\"Red\", \"Blue\", \"Yellow\"],\n  datasets: [\n    {\n      label: \"My First Dataset\",\n      data: [300, 50, 100],\n      backgroundColor: [\n        \"rgb(255, 99, 132)\",\n        \"rgb(54, 162, 235)\",\n        \"rgb(255, 205, 86)\",\n      ],\n      hoverOffset: 4,\n    },\n  ],\n};\n\nconst Home = () => {\n  let [transactions, setTransactions] = useState([]);\n  let [balance, setBalance] = useState([]);\n  let { authTokens, logoutUser } = useContext(AuthContext);\n\n  useEffect(() => {\n    getTransactions();\n  }, []);\n\n  let getTransactions = async () => {\n    let response = await fetch(\"api/transactions/\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + String(authTokens.access),\n      },\n    });\n    let data = await response.json();\n\n    if (response.status === 200) {\n      setTransactions(data);\n    } else if (response.statusText === \"Unauthorized\") {\n      logoutUser();\n    }\n  };\n\n  let financialData = [\n    { spend: 245.0, date: \"01-01-2022\" },\n    { spend: 821.0, date: \"03-01-2022\" },\n    { spend: 447.0, date: \"04-01-2022\" },\n  ];\n\n  const renderTooltip = (props) => (\n    <Tooltip id=\"button-tooltip\" {...props}>\n      Add Transaction\n    </Tooltip>\n  );\n\n  return (\n    <div className=\"d-flex justify-content-center my-5\">\n      <AddTransactionButton />\n      <div className=\"row px-0\" style={{ width: \"95%\", backgroundColor: \"\" }}>\n        <div\n          className=\"mx-0 row col-lg-9 col-md-12 col-sm-12\"\n          style={{ backgroundColor: \"\" }}\n        >\n          <div className=\"\" style={{ backgroundColor: \"\" }}>\n            <div className=\"\" style={{ backgroundColor: \"\" }}>\n              <div className=\"\">\n                <div className=\"row \">\n                  <div className=\"col-lg-3 col-md-6 col-sm-6\">\n                    <MoneyCard\n                      amount={transactions[\"balance\"]}\n                      title={\"Balance\"}\n                    />\n                  </div>\n                  <div className=\"col-lg-3 col-md-6 col-sm-6\">\n                    <MoneyCard\n                      amount={transactions[\"income\"]}\n                      title={\"Income\"}\n                    />\n                  </div>\n                  <div className=\"col-lg-3 col-md-6 col-sm-6\">\n                    <MoneyCard amount={\"40.00\"} title={\"Savings\"} />\n                  </div>\n                  <div className=\"col-lg-3 col-md-6 col-sm-6\">\n                    <MoneyCard\n                      amount={transactions[\"expenses\"]}\n                      title={\"Expenses\"}\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"my-3\">\n              <div className=\"row align-items-top justify-content-center\">\n                <div className=\"col-lg-6 col-md-6 col-sm-11 my-2\">\n                  <BarCard\n                    title={\"Activity\"}\n                    data={state}\n                    explanation={\"Expenses group by category\"}\n                  />\n                </div>\n                <div className=\"col-lg-6 col-md-6 col-sm-11 my-2\">\n                  <DoughnutCard\n                    title={\"Expenses\"}\n                    data={doughnutData}\n                    explanation={\"Expenses group by category\"}\n                  />\n                </div>\n              </div>\n            </div>\n            <div className=\"my-5\">\n              <div className=\"row align-items-top justify-content-center\">\n                <div\n                  className=\"col-lg-3 col-md-10 col-sm-11\"\n                  style={{ backgroundColor: \"\" }}\n                >\n                  <div className=\"py-0 col-lg-12 col-md-12 col-sm-12\">\n                    <MoneyCard amount={\"90.00\"} title={\"Expenses\"} />\n                  </div>\n                </div>\n                <div\n                  className=\"col-lg-9 col-md-10 col-sm-11\"\n                  style={{ backgroundColor: \"\" }}\n                >\n                  <Card className=\"mb-5 w-100 d-flex\">\n                    <div className=\"mt-5 mb-3 mx-3 justify-content-center\">\n                      <div className=\"flex-column\">\n                        <div className=\"pb-2 h4 text-right\">\n                          Recent Transactions\n                        </div>\n                        <div className=\"d-flex justify-content-center\">\n                          <div className=\"w-100\" style={{}}>\n                            <Transaction loadPagination={false} />\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </Card>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Goals />\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}